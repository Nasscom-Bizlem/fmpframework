<div class="confirm-header">
    <h1 mat-dialog-title>{{ titlesUser }} User</h1>
    <!-- <button [mat-dialog-close]="false" class="close" mat-icon-button>
      <i class="material-icons">close</i>
    </button> -->
    <i mat-icon-button class="material-icons close pointer" [mat-dialog-close]='false'>close</i>
  </div>
  
  <div class="dialog-content" [formGroup]="userForm">
    <fieldset class="glbl-set">
      <legend>Information</legend>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label>Login</label>
            <mat-form-field class="glb-ctrl-search" [floatLabel]="'never'">
              <input matInput formControlName="UserId" />
              <div *ngIf="submitted && f.UserId.errors">
                <mat-error
                  *ngIf="submitted && f.UserId.errors.required"
                  class="invalid-feedback"
                  >Login is required</mat-error
                >
              </div>
            </mat-form-field>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label>First Name</label>
            <mat-form-field class="glb-ctrl-search" [floatLabel]="'never'">
              <input matInput formControlName="Name" />
              <div *ngIf="submitted && f.Name.errors">
                <mat-error
                  *ngIf="submitted && f.Name.errors.required"
                  class="invalid-feedback"
                  >First name is required</mat-error
                >
              </div>
            </mat-form-field>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label>Last Name</label>
            <mat-form-field class="glb-ctrl-search" [floatLabel]="'never'">
              <input matInput formControlName="LastName" />
              <div *ngIf="submitted && f.LastName.errors">
                <mat-error
                  *ngIf="submitted && f.LastName.errors.required"
                  class="invalid-feedback"
                  >Last name is required</mat-error
                >
              </div>
            </mat-form-field>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label>Email</label>
            <mat-form-field class="glb-ctrl-search" [floatLabel]="'never'">
              <input matInput formControlName="EmailId" />
              <div *ngIf="submitted && f.EmailId.errors">
                <mat-error
                  *ngIf="submitted && f.EmailId.errors.required"
                  class="invalid-feedback"
                  >Email is required</mat-error
                >
                <mat-error
                  *ngIf="submitted && f.EmailId.errors.email"
                  class="invalid-feedback"
                  >Email is invalid</mat-error
                >
              </div>
            </mat-form-field>
          </div>
        </div>
      </div>
    </fieldset>
    <fieldset class="glbl-set">
      <legend>Authentication</legend>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label>Password</label>
            <mat-form-field class="glb-ctrl-search" [floatLabel]="'never'">
              <input matInput formControlName="Password" (input)="onPasswordInput()" [type]="hide ? 'password' : 'text'" />
              <!-- <div *ngIf="submitted && f.Password.errors"> -->
                 <!--  <mat-error *ngIf="submitted && f.Password.errors.required" class="invalid-feedback">Password
                    is required</mat-error> -->
                    <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>

                    <mat-error *ngIf="Password.hasError('required')">Password is required</mat-error>
                    <mat-error *ngIf="Password.hasError('minlength')">Password must have at least {{minPw}} characters</mat-error>

                <!-- </div>  -->
            </mat-form-field>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label>Confirmation</label>
            <mat-form-field class="glb-ctrl-search" [floatLabel]="'never'">
              <input matInput formControlName="confirmation" (input)="onPasswordInput()" [type]="hide ? 'password' : 'text'"/>
              <!--  <div *ngIf="submitted && f.confirmation.errors"> -->
                 <!-- <mat-error *ngIf=" submitted && f.confirmation.errors.required" class="invalid-feedback">Confirmation is required</mat-error> -->
                 <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                 <mat-error *ngIf="confirmation.hasError('required')">Please confirm your password</mat-error>
                 <mat-error *ngIf="confirmation.invalid && !confirmation.hasError('required')">password and confirmPassword do not match</mat-error>
               <!-- </div> -->
            </mat-form-field>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <mat-checkbox
              class="glbl-checkbox"
              [labelPosition]="'after'"
              formControlName="generate_password" [checked]="" name="generate_password"
              id="generate_password" (change)="onCheckboxChangeGeneratePassword($event)"
            >
              Generate Password
            </mat-checkbox>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <mat-checkbox
              class="glbl-checkbox"
              [labelPosition]="'after'"
              formControlName="change_password_next"
              [checked]="" name="change_password_next"
              id="change_password_next" (change)="onCheckboxChangePasswordNextLogin($event)"
            >
              Must change password at next login
            </mat-checkbox>
          </div>
        </div>
      </div>
    </fieldset>
  </div>
  
  <div class="dialog-footer">
    <button mat-button class="glbl-btn" (click)="saveUserAdd()">
      <span>Save</span>
    </button>
    <button mat-button class="glbl-btn" (click)="close()">
      <span>Cancel</span>
    </button>
  </div>
  